<div ng-controller="MainCtrl">

<div  class="md-padding" ng-cloak>
  <md-content class="md-whiteframe-1dp md-padding">
    <h2 class="md-title">Selecciona el armario que necesites</h2>
    <div layout="row">
      <md-input-container class="">
        <label>Escoja su armario</label>
        <md-select ng-model="newArmario">
          <md-option ng-repeat="product in products" ng-value="product">{{product.name}}</md-option>
        </md-select>
      </md-input-container>
    </div>

  <md-divider ng-if="!$last"></md-divider>

    <h2 class="md-title">Selecciona tu marca preferida</h2>
    <div layout="row">
      <md-input-container class="">
        <label>Escoja su marca</label>
        <md-select ng-model="newBrand" ng-disabled="!newArmario">
          <md-option ng-repeat="brand in brands" ng-value="brand">{{brand.name}}</md-option>
        </md-select>
      </md-input-container>
    </div>

    <md-divider ng-if="!$last"></md-divider>

    <h2 class="md-title">Selecciona la corriente para tu interruptor principal</h2>
    <div layout="row">
      <md-input-container class="">
        <label>I nominal</label>
        <md-select ng-model="newI" ng-disabled="!newBrand">
          <md-option ng-repeat="In in newBrand.in" ng-value="In">{{In}} A</md-option>
        </md-select>
      </md-input-container>

    </div>

        <md-divider ng-if="!$last"></md-divider>

        <h2 class="md-title">Selecciona la corriente para tus mini-interruptores</h2>
      <div class="column">

        <div layout="row">
          <md-input-container class="">
            <label>No.Polos</label>
            <md-select ng-model="newPole" ng-disabled="!newI">
              <md-option ng-repeat="polo in newBrand.minis" ng-value="polo">{{polo.pole}} Polos</md-option>
            </md-select>
          </md-input-container>

          <md-input-container class="">
            <label>I nominal</label>
            <md-select ng-model="newMin" ng-disabled="!newPole">
              <md-option ng-repeat="Imin in newPole.list" ng-value="Imin">{{Imin.In}} A</md-option>
            </md-select>
          </md-input-container>

        </div>
      </div>
  </md-content>
</div>

<div class="md-padding" ng-cloak ng-show="newMin" >
  <md-content class="md-whiteframe-1dp md-padding" >
    <md-list-item>
      <div layout="column">

        <p> {{ newArmario.name }} </p>


        <p> Total: {{total() | currency}}</p>
        <div flex layout="row" layout-align="center center">
          <span class="md-body-1">descuento</span>
          <md-slider flex md-discrete ng-model="discount" step="5" min="0" max="25" aria-label="rating">
          </md-slider>
        </div>

      </div>
    </md-list-item>
  </md-content>

</div>
  <!-- <pre>form = {{ newBrand | json}}</pre> -->
</div>
